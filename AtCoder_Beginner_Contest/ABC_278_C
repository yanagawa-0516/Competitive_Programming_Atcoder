#include <iostream>
#include <set>
using namespace std;
using ll=long long;

int main(){
  ll N,Q;
  cin>>N>>Q;
  
  set<pair<ll,ll>> follow;
  for(int iter=0;iter<Q;iter++){
    int T;
    ll A,B;
    cin>>T>>A>>B;
    A--; B--;
    
    if(T==1) follow.insert({A,B});
    if(T==2) follow.erase({A,B});
    if(T==3){
      auto itA=follow.find({A,B});
      auto itB=follow.find({B,A});
      if(itA!=follow.end()&&itB!=follow.end()) cout<<"Yes"<<endl;
      else cout<<"No"<<endl;
    }
  }
  
  return 0;
}
